const nullable=()=>null,Draggable=class{opts={};defs={contain:"page",clone:!1,cursor:"default",onDrag:nullable,onDrop:nullable,onGrab:nullable,onHover:nullable,showCoords:!1};constructor(ele,options={}){const self=this,coords=()=>{let elm=document.createElement("p");return elm.id="dragCoords",elm.style.position="absolute",elm};let coordsEle=null;for(let opt in this.defs)this.opts[opt]=opt in options?options[opt]:this.defs[opt];this.ele=ele,this.dx=0,this.dy=0,this.total_oX=0,this.total_oY=0;let op=this.ele.offsetParent;if("BODY"!==op.tagName)do{this.total_oX+=op.offsetLeft,this.total_oY+=op.offsetTop,op=op.offsetParent}while(!["BODY",null].includes(op.tagName));function mouseOver(e){e.preventDefault(),ele.addEventListener("mousedown",mouseDown,{once:!0}),self.opts.onHover(e)}function mouseDown(e){e.preventDefault(),self.dx=e.clientX-self.ele.getBoundingClientRect().left,self.dy=e.clientY-self.ele.getBoundingClientRect().top,self.opts.showCoords&&(coordsEle=coords(),document.body.appendChild(coordsEle)),window.addEventListener("mousemove",mouseMove),window.addEventListener("mouseup",mouseUp,{once:!0}),self.opts.onGrab(e)}function mouseMove(e){e.preventDefault();let x=e.clientX-self.dx-self.total_oX,y=e.clientY-self.dy-self.total_oY;if(self.opts.showCoords&&(coordsEle.textContent=`X: ${x}px || Y: ${y}px`,coordsEle.style.left=e.clientX+10+"px",coordsEle.style.top=e.clientY-10+"px"),"page"===self.opts.contain){let rect=ele.getBoundingClientRect(),bounds=document.body.getBoundingClientRect();x<=-rect.left-self.total_oX&&(x=-rect.left-self.total_oX),x>=bounds.width-self.total_oX-rect.width&&(x=bounds.width-self.total_oX-rect.width),y<=-self.total_oY&&(y=-self.total_oY),y>=bounds.height-rect.height-self.total_oY&&(y=bounds.height-rect.height-self.total_oY)}else if("parent"===self.opts.contain){let rect=ele.getBoundingClientRect(),bounds=document.body.getBoundingClientRect(),rBounds=bounds.width-rect.width,bBounds=bounds.height-rect.height;x<=1&&(x=1),x>=rBounds&&(x=rBounds),y<=1&&(y=1),y>=bBounds&&(y=bBounds)}else if(self.opts.contain instanceof HTMLElement){let rect=ele.getBoundingClientRect(),bounds=self.opts.contain.getBoundingClientRect();x<=-rect.left-self.total_oX&&(x=-rect.left-self.total_oX),x>=bounds.width-self.total_oX-rect.width&&(x=bounds.width-self.total_oX-rect.width),y<=-self.total_oY&&(y=-self.total_oY),y>=bounds.height-rect.height-self.total_oY&&(y=bounds.height-rect.height-self.total_oY)}self.ele.style.translate=String(x)+"px "+String(y)+"px",self.opts.onDrag(e)}function mouseUp(e){e.preventDefault(),self.opts.showCoords&&coordsEle.remove(),window.removeEventListener("mousemove",mouseMove),self.opts.onDrop()}ele.addEventListener("mouseover",mouseOver)}};